(***************************************
*                                      *
*          M E D O S - 2               *
*          *************               *
*                                      *
*                                      *
*          Monitor:                    *
*                                      *
*          Module hideing proces-      *
*          ses within MEDOS-2.         *
*                                      *
*          Version 2  26.05.81         *    
*                                      *
*                                      *
*          Svend Erik Knudsen          *
*          Institut fuer Informatik    *
*          ETH-Zuerich                 *
*          CH-8092 Zuerich             *
*                                      *
***************************************)

DEFINITION MODULE Monitor;

  FROM SYSTEM IMPORT PROCESS;

  EXPORT QUALIFIED
    Call, Terminate, Status,
    CurrentLevel, SharedLevel,
    TermProcedure,
    SetTime, GetTime, Time,
    Read;

   
  TYPE
    Status = (normal,
              instructionerr, priorityerr,
              spaceerr, rangeerr,
              addressoverflow, realoverflow, 
              cardinaloverflow, integeroverflow,
              functionerr,
              halted,
              asserted, warned, stopped,
              callerr);

    Time = RECORD
             day:         CARDINAL; (* ((year-1900)*20B + month)*40B + day *)
             minute:      CARDINAL; (* hour*60 + minute *)
             millisecond: CARDINAL; (* second*1000 + msecond *)
           END;


  PROCEDURE Call(VAR p: PROCESS; shared: BOOLEAN; VAR st: Status);

  PROCEDURE Terminate(st: Status);

  PROCEDURE CurrentLevel(): CARDINAL;

  PROCEDURE SharedLevel(): CARDINAL;

  PROCEDURE TermProcedure(term: PROC);
 
 
  PROCEDURE SetTime(t: Time);

  PROCEDURE GetTime(VAR t: Time);


  PROCEDURE Read(VAR ch: CHAR);

END Monitor.
