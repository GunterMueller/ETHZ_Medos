DEFINITION MODULE LineDrawing;   (*NW 15.1.82*)
  FROM FileSystem IMPORT File;
  EXPORT QUALIFIED
    width, height, PaintMode,
    Px, Py, mode, CharWidth, CharHeight,
    dot, line, area, copyArea, clear, Write, WriteString, WriteBitmap;

  TYPE PaintMode = (replace, paint, invert, erase);

  VAR Px, Py:     INTEGER;    (*current coordinates of pen*)
      mode:       PaintMode;  (*current mode for paint and copy*)
      width:      INTEGER;    (*width of picture area*)
      height:     INTEGER;    (*height of picture area*)
      CharWidth:  INTEGER;    (*width od a character*)
      CharHeight: INTEGER;    (*height of a character*)

  PROCEDURE dot(c: CARDINAL; x,y: INTEGER);
    (*place dot at coordinate x,y*)

  PROCEDURE line(d,n: CARDINAL);
    (*draw a line of length n in direction d (angle = 45*d degrees) *)

  PROCEDURE area(color: CARDINAL; x,y,w,h: INTEGER);
    (*paint the rectangular area at x,y of width w and height h in color c
      0 = white, 1 = light grey, 2 = dark grey, 3 = black*)

  PROCEDURE copyArea(sx,sy,dx,dy,dw,dh: INTEGER);
    (*copy rectangular area at sx,sy into rectangle at dx,dy of
      width dw and height dh *)

  PROCEDURE clear;  (*clear the screen*)

  PROCEDURE Write(ch: CHAR);  (*write ch at pen's position*)

  PROCEDURE WriteString(s: ARRAY OF CHAR);

  PROCEDURE WriteBitmap(VAR f: File);

END LineDrawing.
